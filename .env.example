# =============================================================================
# VULNLAB CONFIGURATION
# =============================================================================

# Discord Bot
DISCORD_TOKEN=your_discord_bot_token
DISCORD_GUILD_ID=your_guild_id

# Database
DATABASE_URL=postgresql+asyncpg://vulnlab:password@localhost:5432/vulnlab

# Redis (optional - for distributed locking)
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# INFRASTRUCTURE PROVIDERS
# =============================================================================

# Active providers (comma-separated: proxmox,aws)
ACTIVE_PROVIDERS=proxmox

# -----------------------------------------------------------------------------
# Proxmox Configuration
# -----------------------------------------------------------------------------
PROXMOX_HOST=192.168.1.100
PROXMOX_USER=root@pam
PROXMOX_PASSWORD=your_proxmox_password
PROXMOX_NODE=pve
PROXMOX_VERIFY_SSL=false

# -----------------------------------------------------------------------------
# AWS Configuration (optional - for cloud deployment)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=eu-west-1
AWS_VPC_ID=vpc-xxxxxxxx
AWS_SUBNET_ID=subnet-xxxxxxxx
AWS_SECURITY_GROUP_ID=sg-xxxxxxxx
AWS_DEFAULT_INSTANCE_TYPE=t3.small
AWS_KEY_NAME=your-ssh-key-pair

# =============================================================================
# WIREGUARD VPN (via wg-easy container)
# =============================================================================
# wg-easy API configuration
# https://github.com/wg-easy/wg-easy
WG_EASY_API_URL=http://wireguard:51821
WG_EASY_PASSWORD=your_wg_easy_admin_password

# Public endpoint (IONOS reverse proxy that forwards to internal WG server)
WG_SERVER_ENDPOINT=vpn.yourdomain.com:51820
WG_NETWORK=10.10.0.0/16

# =============================================================================
# PATREON INTEGRATION (for automatic subscription sync)
# =============================================================================
# OAuth credentials (get from https://www.patreon.com/portal/registration/register-clients)
PATREON_CLIENT_ID=your_patreon_client_id
PATREON_CLIENT_SECRET=your_patreon_client_secret

# Creator access token (get from Patreon API settings)
PATREON_CREATOR_ACCESS_TOKEN=your_creator_access_token
PATREON_CAMPAIGN_ID=your_campaign_id

# Sync interval (how often to check Patreon for updates)
PATREON_SYNC_INTERVAL_MINUTES=60

# Patreon tier IDs (find in your Patreon campaign settings)
PATREON_TIER1_ID=tier_id_for_basic
PATREON_TIER2_ID=tier_id_for_pro
PATREON_TIER3_ID=tier_id_for_elite

# Discord role IDs to assign for each tier
DISCORD_ROLE_TIER1=123456789012345678
DISCORD_ROLE_TIER2=123456789012345679
DISCORD_ROLE_TIER3=123456789012345680

# =============================================================================
# MACHINE SETTINGS
# =============================================================================
DEFAULT_MACHINE_DURATION_HOURS=2
MAX_EXTEND_HOURS=4
AUTO_SHUTDOWN_MINUTES=120
MAX_CONCURRENT_INSTANCES_PER_USER=3

# =============================================================================
# VPN SETTINGS
# =============================================================================
VPN_CERT_VALIDITY_DAYS=30

# =============================================================================
# JOB QUEUE SETTINGS
# =============================================================================
JOB_QUEUE_WORKERS=5
JOB_QUEUE_MAX_SIZE=1000
JOB_TIMEOUT_SECONDS=600

# =============================================================================
# RESILIENCE SETTINGS
# =============================================================================
PROVIDER_MAX_RETRIES=3
PROVIDER_RETRY_DELAY=1.0
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
HEALTH_CHECK_INTERVAL=30
